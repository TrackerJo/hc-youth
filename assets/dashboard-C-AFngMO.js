import{j as e,h as f,r as u,i as q,k as w,u as T,l as M,m as N,c as C,g as A}from"./index-rdXWz94v.js";import{T as R,D as b,B as Q}from"./trash_icon-0bm-aRxu.js";function Y({request:t,removeRequest:l}){return e.jsxs("div",{className:"prayer-request-tile",children:[e.jsx("h3",{htmlFor:"",children:t.request}),e.jsx("img",{src:R,alt:"",onClick:async()=>{l(t.request),await f(t.request)}})]})}function H({requests:t,removeRequest:l}){return e.jsxs("div",{className:"manage-prayer-requests-section",children:[e.jsx("h2",{children:"Manage Prayer Requests"}),e.jsx("div",{className:"prayer-requests",children:t.map((s,r)=>e.jsx(Y,{request:s,removeRequest:l},r))})]})}function L({question:t,removeQuestion:l,updateQuestion:s}){const[r,i]=u.useState("");return e.jsxs("div",{className:"question-tile",children:[e.jsxs("h3",{htmlFor:"",children:["Q: ",t.question]}),t.answer!=""?e.jsxs("h4",{children:["A: ",t.answer]}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",value:r,onChange:a=>i(a.target.value)}),e.jsx("button",{onClick:async()=>{s(t.question,r),await q(t.question,r)},children:"Answer"})]}),e.jsx("div",{className:"question-actions",children:e.jsx("button",{onClick:async()=>{l(t.question),await w(t.question,t.answer)},children:"Delete"})})]})}function k({questions:t,removeQuestion:l,answerQuestion:s}){return e.jsxs("div",{className:"manage-questions-section",children:[e.jsx("h2",{children:"Manage Questions"}),e.jsx("div",{className:"questions",children:t.map((r,i)=>e.jsx(L,{question:r,removeQuestion:l,updateQuestion:s},i))})]})}function E({middleSchoolTiming:t,highSchoolTiming:l,youngAdultsTiming:s,setHighSchoolTiming:r,setMiddleSchoolTiming:i,setYoungAdultsTiming:a}){const[n,c]=u.useState(t),[d,g]=u.useState(l),[h,m]=u.useState(s),[v,x]=u.useState(!1),[y,j]=u.useState(!1),[p,S]=u.useState(!1);return u.useEffect(()=>{c(t),g(l),m(s)},[t,l,s]),e.jsxs("div",{className:"manage-when-section",children:[e.jsx("h2",{children:"Manage Youth Group Times"}),e.jsxs("div",{className:"yg-times",children:[e.jsxs("div",{className:"yg-time",children:[e.jsx("h3",{children:"High School"}),e.jsx("input",{type:"text",value:d.day,onChange:o=>g({...d,day:o.target.value})}),e.jsx("input",{type:"text",value:d.time,onChange:o=>g({...d,time:o.target.value})}),y?e.jsx("div",{className:"loader"}):e.jsx("button",{onClick:async()=>{j(!0),r(d),await T(d),j(!1)},children:"Save"})]}),e.jsxs("div",{className:"yg-time",children:[e.jsx("h3",{children:"Middle School"}),e.jsx("input",{type:"text",value:n.day,onChange:o=>c({...n,day:o.target.value})}),e.jsx("input",{type:"text",value:n.time,onChange:o=>c({...n,time:o.target.value})}),v?e.jsx("div",{className:"loader"}):e.jsx("button",{onClick:async()=>{x(!0),i(n),await M(n),x(!1)},children:"Save"})]}),e.jsxs("div",{className:"yg-time",children:[e.jsx("h3",{children:"Young Adults"}),e.jsx("input",{type:"text",value:h.day,onChange:o=>m({...h,day:o.target.value})}),e.jsx("input",{type:"text",value:h.time,onChange:o=>m({...h,time:o.target.value})}),p?e.jsx("div",{className:"loader"}):e.jsx("button",{onClick:async()=>{S(!0),a(h),await N(h),S(!1)},children:"Save"})]})]})]})}C(document.getElementById("root")).render(e.jsx(u.StrictMode,{children:e.jsx(D,{})}));function D(){const[t,l]=u.useState(!1),[s,r]=u.useState(null);return u.useEffect(()=>{A().then(a=>{r(a)});const i=()=>{window.innerWidth<800?l(!0):l(!1)};return window.addEventListener("resize",i),i(),()=>window.removeEventListener("resize",i)},[]),e.jsxs(e.Fragment,{children:[!t&&e.jsx(b,{}),e.jsxs("div",{className:"content",children:[e.jsx(E,{youngAdultsTiming:(s==null?void 0:s.youngAdultTiming)??{time:"",day:""},highSchoolTiming:(s==null?void 0:s.highSchoolTiming)??{time:"",day:""},middleSchoolTiming:(s==null?void 0:s.middleSchoolTiming)??{time:"",day:""},setHighSchoolTiming:({time:i,day:a})=>{r(n=>n?{...n,highSchoolTiming:{time:i,day:a}}:null)},setMiddleSchoolTiming:({time:i,day:a})=>{r(n=>n?{...n,middleSchoolTiming:{time:i,day:a}}:null)},setYoungAdultsTiming:({time:i,day:a})=>{r(n=>n?{...n,youngAdultTiming:{time:i,day:a}}:null)}}),e.jsx(H,{requests:(s==null?void 0:s.prayerRequests)||[],removeRequest:i=>{r(a=>a?{...a,prayerRequests:a.prayerRequests.filter(n=>n.request!==i)}:null)}}),e.jsx(k,{questions:(s==null?void 0:s.questions)||[],removeQuestion:i=>{r(a=>a?{...a,questions:a.questions.filter(n=>n.question!==i)}:null)},answerQuestion:(i,a)=>{r(n=>n?{...n,questions:n.questions.map(c=>c.question===i?{question:i,answer:a}:c)}:null)}})]}),t&&e.jsx("div",{className:"mobile-footer"}),t&&e.jsx(Q,{location:""})]})}
