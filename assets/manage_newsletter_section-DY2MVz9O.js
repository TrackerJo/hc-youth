import{r as n,j as e}from"./index-5w7rvlBR.js";import{t as f,v as p,w as v}from"./db-DKRRNKKr.js";import{T as b}from"./trash_icon-D-fDBjRU.js";function N({moreInfo:a,removeMoreInfo:c,updateMoreInfo:d}){const[t,s]=n.useState(a.title),[i,o]=n.useState(a.body),[m,r]=n.useState(a.link),[x,u]=n.useState(!1);return n.useEffect(()=>{s(a.title),o(a.body),r(a.link)},[a]),e.jsxs("div",{className:"manage-more-info-tile",children:[e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Title: "}),e.jsx("input",{value:t,onChange:l=>{s(l.target.value),u(!0)}})]}),e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Body: "}),e.jsx("textarea",{value:i,onChange:l=>{o(l.target.value),u(!0)}})]}),e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Link: "}),e.jsx("input",{value:m,onChange:l=>{r(l.target.value),u(!0)}})]}),x&&e.jsx("button",{onClick:()=>{d(a.title,t,i,m),alert("More Info Updated"),u(!1)},children:"Update"}),e.jsx("button",{onClick:()=>c(a.title),children:"Remove"})]})}function I({moreInfos:a,removeMoreInfo:c,updateMoreInfo:d,addMoreInfo:t}){const[s,i]=n.useState([]);return n.useEffect(()=>{i(a)},[a]),e.jsxs("div",{className:"manage-more-info-section",children:[e.jsx("h2",{children:"Manage More Info"}),e.jsx("div",{className:"more-info",children:s.map((o,m)=>e.jsx(N,{moreInfo:o,removeMoreInfo:c,updateMoreInfo:d},m))}),e.jsx("button",{onClick:()=>{t()},children:"Add more info"})]})}function C({teamMember:a,removeTeamMember:c,updateTeamMember:d,type:t}){const[s,i]=n.useState(a),o=n.useRef(null),[m,r]=n.useState(!1),[x,u]=n.useState(!0);return n.useEffect(()=>{i(a)},[a]),e.jsxs("div",{className:"manage-team-tile",children:[s.image!==""&&e.jsx("img",{src:s.image,alt:s.name}),s.image==""?e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Name: "}),e.jsx("input",{type:"text",value:s.name,onChange:l=>{r(!0),i({...s,name:l.target.value})}})]}):e.jsx("h3",{children:s.name}),e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Role: "}),e.jsx("input",{type:"text",value:s.role,onChange:l=>{r(!0),i({...s,role:l.target.value})}})]}),e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Bio: "}),e.jsx("textarea",{value:s.bio,onChange:l=>{r(!0),i({...s,bio:l.target.value})}})]}),e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Email: "}),e.jsx("input",{type:"text",value:s.email,onChange:l=>{r(!0),i({...s,email:l.target.value})}})]}),e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Phone: "}),e.jsx("input",{type:"text",value:s.phone,onChange:l=>{r(!0),i({...s,phone:l.target.value})}})]}),e.jsxs("div",{className:"Upload",children:[e.jsx("input",{type:"file",className:"UploadImage",ref:o,onChange:()=>{u(!1)}}),!x&&e.jsx("button",{onClick:async l=>{if(s.name===""){alert("Please enter a name");return}r(!0);const h=await f(t,o.current.files[0],s.name);i({...s,image:h}),alert("Image uploaded"),u(!0)},children:"Upload"})]}),m&&e.jsx("button",{onClick:()=>{r(!1),d(a.name,s),alert("Team Member Updated")},children:"Save"}),e.jsx("button",{onClick:()=>{c(a.name)},children:"Remove"})]})}function T({teamMembers:a,removeTeamMember:c,updateTeamMember:d,addTeamMember:t,type:s}){return e.jsxs("div",{className:"manage-team-section",children:[e.jsx("h2",{children:"Manage Team"}),e.jsx("div",{className:"team",children:a.map((i,o)=>e.jsx(C,{type:s,teamMember:i,removeTeamMember:c,updateTeamMember:d},o))}),e.jsx("button",{onClick:()=>{t()},children:"Add team member"})]})}function S({newsletter:a,updateNewsletter:c,type:d}){const[t,s]=n.useState(a),[i,o]=n.useState(!1),[m,r]=n.useState(!0),[x,u]=n.useState(!1);n.useState(!1);const l=n.useRef(null);return n.useEffect(()=>{s(a)},[a]),e.jsxs("div",{className:"manage-newsletter-tile",children:[e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Title: "}),e.jsx("input",{type:"text",value:t.title,onChange:h=>{o(!0),s({...t,title:h.target.value})}})]}),t.image==""?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:e.jsx("img",{src:t.image,alt:""})}),e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Body: "}),e.jsx("textarea",{value:t.body,onChange:h=>{o(!0),s({...t,body:h.target.value})}})]}),e.jsxs("div",{className:"Upload",children:[e.jsx("label",{htmlFor:"",children:"Image: "}),e.jsx("input",{type:"file",className:"UploadImage",ref:l,onChange:()=>{r(!1)}}),m?e.jsx(e.Fragment,{children:t.image!=""&&e.jsx("button",{onClick:async()=>{r(!1),await p(d,t),s({...t,image:"",imageId:""}),c({...t,image:"",imageId:""})},children:"Delete"})}):x?e.jsx("div",{className:"loader"}):e.jsx("button",{onClick:async h=>{u(!0);const j=t.title.replace(/ /g,"_")+Date.now().toString();t.image!=""&&await p(d,t);const g=await v(d,l.current.files[0],j);s({...t,image:g,imageId:j}),c({...t,image:g,imageId:j}),o(!1),alert("Image uploaded"),r(!0),u(!1)},children:"Upload"})]}),i&&e.jsx("button",{onClick:()=>{c(t),alert("Newsletter updated"),o(!1)},children:"Save"})]})}function w({newsletter:a,removeNewsletter:c,type:d}){return e.jsxs("div",{className:"manage-past-newsletter-tile",children:[e.jsx("h3",{children:a.title}),e.jsx("p",{children:a.date.toDateString()}),e.jsx("p",{children:a.body}),e.jsx("button",{onClick:()=>{localStorage.setItem("newsletter",JSON.stringify(a)),window.open(window.location.origin+`/hc-youth/Newsletter/?path=1Dashboard1${d}1`,"_blank")},children:"View"}),e.jsx("button",{onClick:()=>{c(a.title)},children:"Remove"})]})}function M({subscriber:a,removeSubscriber:c}){return e.jsxs("div",{className:"manage-subscriber-tile",children:[e.jsx("h3",{className:"subscriber",children:a}),e.jsx("img",{src:b,alt:"",onClick:async()=>{c(a)}})]})}function F({newsletter:a,updateNewsletter:c,type:d,subscribers:t,removeSubscriber:s,pastNewsletters:i,removeNewsletter:o}){return e.jsxs("div",{className:"manage-newsletter-section",children:[e.jsx("h2",{children:"Manage Newsletter"}),e.jsxs("div",{className:"columns",children:[e.jsxs("div",{className:"subscribers",children:[e.jsx("h3",{children:"Subscribers"}),e.jsx("div",{className:"subscribers-list",children:t.map((m,r)=>e.jsx(M,{subscriber:m,removeSubscriber:s},r))})]}),e.jsxs("div",{className:"current-newsletter",children:[e.jsx("h3",{children:"Current Newsletter"}),e.jsx(S,{type:d,newsletter:a,updateNewsletter:c})]}),e.jsxs("div",{className:"past-newsletters",children:[e.jsx("h3",{children:"Past Newsletters"}),e.jsx("div",{className:"past-newsletters-list",children:i.map((m,r)=>e.jsx(w,{newsletter:m,removeNewsletter:o,type:d},r))})]})]})]})}export{F as M,I as a,T as b};
