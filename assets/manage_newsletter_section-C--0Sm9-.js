import{r as l,j as e}from"./index-5w7rvlBR.js";import{t as N,v as b,w as C}from"./db-Db5_hjbs.js";import{T as S}from"./trash_icon-CGJcnPRh.js";function w({moreInfo:s,removeMoreInfo:i,updateMoreInfo:c}){const[t,a]=l.useState(s.title),[n,o]=l.useState(s.body),[d,r]=l.useState(s.link),[p,h]=l.useState(!1);return l.useEffect(()=>{a(s.title),o(s.body),r(s.link)},[s]),e.jsxs("div",{className:"manage-more-info-tile",children:[e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Title: "}),e.jsx("input",{value:t,onChange:u=>{a(u.target.value),h(!0)}})]}),e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Body: "}),e.jsx("textarea",{value:n,onChange:u=>{o(u.target.value),h(!0)}})]}),e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Link: "}),e.jsx("input",{value:d,onChange:u=>{r(u.target.value),h(!0)}})]}),p&&e.jsx("button",{onClick:()=>{c(s.title,t,n,d),alert("More Info Updated"),h(!1)},children:"Update"}),e.jsx("button",{onClick:()=>i(s.title),children:"Remove"})]})}function R({moreInfos:s,removeMoreInfo:i,updateMoreInfo:c,addMoreInfo:t}){const[a,n]=l.useState([]);return l.useEffect(()=>{n(s)},[s]),e.jsxs("div",{className:"manage-more-info-section",children:[e.jsx("h2",{children:"Manage More Info"}),e.jsx("div",{className:"more-info",children:a.map((o,d)=>e.jsx(w,{moreInfo:o,removeMoreInfo:i,updateMoreInfo:c},d))}),e.jsx("button",{onClick:()=>{t()},children:"Add more info"})]})}function U({teamMember:s,removeTeamMember:i,updateTeamMember:c,type:t}){const[a,n]=l.useState(s),o=l.useRef(null),[d,r]=l.useState(!1),[p,h]=l.useState(!0),[u,x]=l.useState(!0),[g,j]=l.useState(!1);return l.useEffect(()=>{n(s)},[s]),e.jsxs("div",{className:"manage-team-tile",children:[a.image!==""&&e.jsx("img",{src:a.image,alt:a.name}),e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Name: "}),e.jsx("input",{type:"text",value:a.name,onChange:m=>{r(!0),n({...a,name:m.target.value})}})]}),e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Role: "}),e.jsx("input",{type:"text",value:a.role,onChange:m=>{r(!0),n({...a,role:m.target.value})}})]}),e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Bio: "}),e.jsx("textarea",{value:a.bio,onChange:m=>{r(!0),n({...a,bio:m.target.value})}})]}),e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Email: "}),e.jsx("input",{type:"text",value:a.email,onChange:m=>{r(!0),n({...a,email:m.target.value})}})]}),e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Phone: "}),e.jsx("input",{type:"text",value:a.phone,onChange:m=>{r(!0),n({...a,phone:m.target.value})}})]}),e.jsxs("div",{className:"Upload",children:[e.jsx("input",{type:"file",className:"UploadImage",ref:o,onChange:()=>{h(!1)}}),g?e.jsx("div",{className:"loader"}):!p&&e.jsx("button",{onClick:async m=>{if(a.name===""){alert("Please enter a name");return}j(!0);const f=a.name.replace(/ /g,"_")+Date.now(),v=await N(t,o.current.files[0],f);n({...a,image:v,imageId:f}),alert("Image uploaded"),c(s.name,{...a,image:v,imageId:f},u),x(!1),h(!0),r(!1),j(!1)},children:"Upload"})]}),d&&e.jsx("button",{onClick:()=>{r(!1),c(s.name,a,u),x(!1),alert("Team Member Updated")},children:"Save"}),e.jsx("button",{onClick:()=>{i(s.name)},children:"Remove"})]})}function E({teamMembers:s,removeTeamMember:i,updateTeamMember:c,addTeamMember:t,type:a}){return e.jsxs("div",{className:"manage-team-section",children:[e.jsx("h2",{children:"Manage Team"}),e.jsx("div",{className:"team",children:s.map((n,o)=>e.jsx(U,{type:a,teamMember:n,removeTeamMember:i,updateTeamMember:c},o))}),e.jsx("button",{onClick:()=>{t()},children:"Add team member"})]})}function k({newsletter:s,updateNewsletter:i,type:c}){const[t,a]=l.useState(s),[n,o]=l.useState(!1),[d,r]=l.useState(!0),[p,h]=l.useState(!1),u=l.useRef(null);return l.useEffect(()=>{a(s)},[s]),e.jsxs("div",{className:"manage-newsletter-tile",children:[e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Title: "}),e.jsx("input",{type:"text",value:t.title,onChange:x=>{o(!0),a({...t,title:x.target.value})}})]}),t.images.length==0?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"newsletter-images",children:t.images.map((x,g)=>e.jsxs("div",{className:"image-container",children:[e.jsx("img",{src:x.url,alt:""}),e.jsx("button",{onClick:async()=>{const j=t.images.filter((m,f)=>f!=g);b(c,x),a({...t,images:j}),i({...t,images:j})},children:"Remove"})]},g))})}),e.jsxs("div",{className:"Upload",children:[e.jsx("label",{htmlFor:"",children:"Image: "}),e.jsx("input",{type:"file",className:"UploadImage",ref:u,onChange:()=>{r(!1)}}),d?e.jsx(e.Fragment,{}):p?e.jsx("div",{className:"loader"}):e.jsx("button",{onClick:async()=>{h(!0);const x=t.title.replace(/ /g,"_")+Date.now().toString(),g=await C(c,u.current.files[0],x),j=t.images;j.push({id:x,url:g}),a({...t,images:j}),i({...t,images:j}),o(!1),alert("Image uploaded"),u.current.value="",r(!0),h(!1)},children:"Upload"})]}),n&&e.jsx("button",{onClick:()=>{i(t),alert("Newsletter updated"),o(!1)},children:"Save"})]})}function M({newsletter:s,removeNewsletter:i,type:c}){return e.jsxs("div",{className:"manage-past-newsletter-tile",children:[e.jsx("h3",{children:s.title}),e.jsx("p",{children:s.date.toDateString()}),e.jsx("p",{children:s.body}),e.jsx("button",{onClick:()=>{localStorage.setItem("newsletter",JSON.stringify(s)),window.open(window.location.origin+`/hc-youth/Newsletter/?path=1Dashboard1${c}1`,"_self")},children:"View"}),e.jsx("button",{onClick:()=>{i(s.title)},children:"Remove"})]})}function y({subscriber:s,removeSubscriber:i}){return e.jsxs("div",{className:"manage-subscriber-tile",children:[e.jsx("h3",{className:"subscriber",children:s}),e.jsx("img",{src:S,alt:"",onClick:async()=>{i(s)}})]})}function D({newsletter:s,updateNewsletter:i,type:c,subscribers:t,removeSubscriber:a,pastNewsletters:n,removeNewsletter:o}){return e.jsxs("div",{className:"manage-newsletter-section",children:[e.jsx("h2",{children:"Manage Newsletter"}),e.jsxs("div",{className:"columns",children:[e.jsxs("div",{className:"subscribers",children:[e.jsx("h3",{children:"Subscribers"}),e.jsx("div",{className:"subscribers-list",children:t.map((d,r)=>e.jsx(y,{subscriber:d,removeSubscriber:a},r))})]}),e.jsxs("div",{className:"current-newsletter",children:[e.jsx("h3",{children:"Current Newsletter"}),e.jsx(k,{type:c,newsletter:s,updateNewsletter:i})]}),e.jsxs("div",{className:"past-newsletters",children:[e.jsx("h3",{children:"Past Newsletters"}),e.jsx("div",{className:"past-newsletters-list",children:n.map((d,r)=>e.jsx(M,{newsletter:d,removeNewsletter:o,type:c},r))})]})]})]})}export{D as M,R as a,E as b};
