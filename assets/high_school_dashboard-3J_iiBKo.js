import{c as M,j as r,r as l,e as f,n as w,o as g,p as h,q as N,t as H,v as S,w as x}from"./index-rdXWz94v.js";import{D as j,B as y}from"./trash_icon-0bm-aRxu.js";import{M as T,a as E,b as B}from"./manage_newsletter_section-DhvN0bMW.js";M(document.getElementById("root")).render(r.jsx(l.StrictMode,{children:r.jsx(D,{})}));function D(){const[d,u]=l.useState(!1),[a,n]=l.useState(null),[b,m]=l.useState([]);return l.useEffect(()=>{f().then(e=>{n(e),m((e==null?void 0:e.moreInfo)??[]),console.log(e)});const t=()=>{window.innerWidth<800?u(!0):u(!1)};return window.addEventListener("resize",t),t(),()=>window.removeEventListener("resize",t)},[]),r.jsxs(r.Fragment,{children:[!d&&r.jsx(j,{}),r.jsxs("div",{className:"content",children:[r.jsx("h1",{children:"High School"}),r.jsx(T,{type:"HighSchool",pastNewsletters:(a==null?void 0:a.pastNewsletters)??[],subscribers:(a==null?void 0:a.subscribers)??[],newsletter:(a==null?void 0:a.newsletter)??{title:"",image:"",body:"",date:new Date},updateNewsletter:t=>{n(e=>e&&{...e,newsletter:t}),w("HighSchool",t)},removeNewsletter:t=>{n(e=>{if(e){const s=e.pastNewsletters.find(o=>o.title===t);g("HighSchool",s),e={...e,pastNewsletters:e.pastNewsletters.filter(o=>o.title!==t)}}return e})},removeSubscriber:t=>{n(e=>(e&&(h("HighSchool",t),e={...e,subscribers:e.subscribers.filter(s=>s!==t)}),e))}}),r.jsx(E,{moreInfos:b??[],updateMoreInfo:(t,e,s,o)=>{m(c=>(c&&(c=c.map(i=>i.title===t?(console.log("Updating"),console.log(i),console.log("To"),console.log({title:e,body:s,link:o}),N("HighSchool",i.title,i.body,i.link,e,s,o),{title:e,body:s,link:o}):i)),c))},removeMoreInfo:async t=>{m(e=>{if(e){const s=e.find(o=>o.title===t);e=e.filter(o=>o.title!==t),H("HighSchool",s.title,s.body,s.link)}return e})},addMoreInfo:async()=>{m(t=>(t&&(t=[...t,{title:"New Title "+t.length,body:"New Body",link:"New Link"}],console.log(t)),t))}}),r.jsx(B,{type:"HighSchool",teamMembers:(a==null?void 0:a.teamMembers)??[],addTeamMember:()=>{n(t=>(t&&(t={...t,teamMembers:[...t.teamMembers,{name:"",role:"",email:"",phone:"",bio:"",image:""}]}),t))},removeTeamMember:t=>{n(e=>{if(e){const s=e.teamMembers.find(o=>o.name===t);s.name!==""&&S("HighSchool",s),e={...e,teamMembers:e.teamMembers.filter(o=>o.name!==t)}}return e})},updateTeamMember:(t,e)=>{n(s=>(s&&(s={...s,teamMembers:s.teamMembers.map(o=>o.name===t?(x("HighSchool",o,e),e):o)}),s))}})]}),d&&r.jsx("div",{className:"mobile-footer"}),d&&r.jsx(y,{location:"HighSchool"})]})}
