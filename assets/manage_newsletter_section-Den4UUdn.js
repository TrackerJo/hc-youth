import{r as n,j as e,x as g,y as p}from"./index-BiH7b5lz.js";import{T as v}from"./trash_icon-C2SrUywh.js";function f({moreInfo:a,removeMoreInfo:d,updateMoreInfo:u}){const[s,t]=n.useState(a.title),[i,r]=n.useState(a.body),[o,c]=n.useState(a.link),[j,m]=n.useState(!1);return n.useEffect(()=>{t(a.title),r(a.body),c(a.link)},[a]),e.jsxs("div",{className:"manage-more-info-tile",children:[e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Title: "}),e.jsx("input",{value:s,onChange:l=>{t(l.target.value),m(!0)}})]}),e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Body: "}),e.jsx("textarea",{value:i,onChange:l=>{r(l.target.value),m(!0)}})]}),e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Link: "}),e.jsx("input",{value:o,onChange:l=>{c(l.target.value),m(!0)}})]}),j&&e.jsx("button",{onClick:()=>{u(a.title,s,i,o),alert("More Info Updated"),m(!1)},children:"Update"}),e.jsx("button",{onClick:()=>d(a.title),children:"Remove"})]})}function U({moreInfos:a,removeMoreInfo:d,updateMoreInfo:u,addMoreInfo:s}){const[t,i]=n.useState([]);return n.useEffect(()=>{i(a)},[a]),e.jsxs("div",{className:"manage-more-info-section",children:[e.jsx("h2",{children:"Manage More Info"}),e.jsx("div",{className:"more-info",children:t.map((r,o)=>e.jsx(f,{moreInfo:r,removeMoreInfo:d,updateMoreInfo:u},o))}),e.jsx("button",{onClick:()=>{s()},children:"Add more info"})]})}function N({teamMember:a,removeTeamMember:d,updateTeamMember:u,type:s}){const[t,i]=n.useState(a),r=n.useRef(null),[o,c]=n.useState(!1),[j,m]=n.useState(!0);return n.useEffect(()=>{i(a)},[a]),e.jsxs("div",{className:"manage-team-tile",children:[t.image!==""&&e.jsx("img",{src:t.image,alt:t.name}),t.image==""?e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Name: "}),e.jsx("input",{type:"text",value:t.name,onChange:l=>{c(!0),i({...t,name:l.target.value})}})]}):e.jsx("h3",{children:t.name}),e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Role: "}),e.jsx("input",{type:"text",value:t.role,onChange:l=>{c(!0),i({...t,role:l.target.value})}})]}),e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Bio: "}),e.jsx("textarea",{value:t.bio,onChange:l=>{c(!0),i({...t,bio:l.target.value})}})]}),e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Email: "}),e.jsx("input",{type:"text",value:t.email,onChange:l=>{c(!0),i({...t,email:l.target.value})}})]}),e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Phone: "}),e.jsx("input",{type:"text",value:t.phone,onChange:l=>{c(!0),i({...t,phone:l.target.value})}})]}),e.jsxs("div",{className:"Upload",children:[e.jsx("input",{type:"file",className:"UploadImage",ref:r,onChange:()=>{m(!1)}}),!j&&e.jsx("button",{onClick:async l=>{if(t.name===""){alert("Please enter a name");return}c(!0);const h=await g(s,r.current.files[0],t.name);i({...t,image:h}),alert("Image uploaded"),m(!0)},children:"Upload"})]}),o&&e.jsx("button",{onClick:()=>{c(!1),u(a.name,t),alert("Team Member Updated")},children:"Save"}),e.jsx("button",{onClick:()=>{d(a.name)},children:"Remove"})]})}function T({teamMembers:a,removeTeamMember:d,updateTeamMember:u,addTeamMember:s,type:t}){return e.jsxs("div",{className:"manage-team-section",children:[e.jsx("h2",{children:"Manage Team"}),e.jsx("div",{className:"team",children:a.map((i,r)=>e.jsx(N,{type:t,teamMember:i,removeTeamMember:d,updateTeamMember:u},r))}),e.jsx("button",{onClick:()=>{s()},children:"Add team member"})]})}function b({newsletter:a,updateNewsletter:d,type:u}){const[s,t]=n.useState(a),[i,r]=n.useState(!1),[o,c]=n.useState(!0),[j,m]=n.useState(!1);n.useState(!1);const l=n.useRef(null);return n.useEffect(()=>{t(a)},[a]),e.jsxs("div",{className:"manage-newsletter-tile",children:[s.image==""?e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Title: "}),e.jsx("input",{type:"text",value:s.title,onChange:h=>{r(!0),t({...s,title:h.target.value})}})]}):e.jsxs(e.Fragment,{children:[" ",e.jsx("h3",{children:s.title}),e.jsx("img",{src:s.image,alt:""})]}),e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Body: "}),e.jsx("textarea",{value:s.body,onChange:h=>{r(!0),t({...s,body:h.target.value})}})]}),e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"",children:"Date: "}),e.jsx("input",{type:"date",value:s.date.toISOString().slice(0,10),onChange:h=>{r(!0);const x=new Date(h.target.value);x.setHours(0,0,0,0),x.setDate(x.getDate()+1),t({...s,date:x})}})]}),e.jsxs("div",{className:"Upload",children:[e.jsx("label",{htmlFor:"",children:"Image: "}),e.jsx("input",{type:"file",className:"UploadImage",ref:l,onChange:()=>{c(!1)}}),o?e.jsx(e.Fragment,{}):j?e.jsx("div",{className:"loader"}):e.jsx("button",{onClick:async h=>{if(s.title===""){alert("Please enter a title");return}m(!0),r(!0);const x=await p(u,l.current.files[0],s.title);t({...s,image:x}),alert("Image uploaded"),c(!0),m(!1)},children:"Upload"})]}),i&&e.jsx("button",{onClick:()=>{d(s),alert("Newsletter updated"),r(!1)},children:"Save"})]})}function C({newsletter:a,removeNewsletter:d}){return e.jsxs("div",{className:"manage-past-newsletter-tile",children:[e.jsx("h3",{children:a.title}),e.jsx("p",{children:a.date.toDateString()}),e.jsx("p",{children:a.body}),e.jsx("button",{onClick:()=>{d(a.title)},children:"Remove"})]})}function S({subscriber:a,removeSubscriber:d}){return e.jsxs("div",{className:"manage-subscriber-tile",children:[e.jsx("h3",{children:a}),e.jsx("img",{src:v,alt:"",onClick:async()=>{d(a)}})]})}function k({newsletter:a,updateNewsletter:d,type:u,subscribers:s,removeSubscriber:t,pastNewsletters:i,removeNewsletter:r}){return e.jsxs("div",{className:"manage-newsletter-section",children:[e.jsx("h2",{children:"Manage Newsletter"}),e.jsxs("div",{className:"columns",children:[e.jsxs("div",{className:"subscribers",children:[e.jsx("h3",{children:"Subscribers"}),e.jsx("div",{className:"subscribers-list",children:s.map((o,c)=>e.jsx(S,{subscriber:o,removeSubscriber:t},c))})]}),e.jsxs("div",{className:"current-newsletter",children:[e.jsx("h3",{children:"Current Newsletter"}),e.jsx(b,{type:u,newsletter:a,updateNewsletter:d})]}),e.jsxs("div",{className:"past-newsletters",children:[e.jsx("h3",{children:"Past Newsletters"}),e.jsx("div",{className:"past-newsletters-list",children:i.map((o,c)=>e.jsx(C,{newsletter:o,removeNewsletter:r},c))})]})]})]})}export{k as M,U as a,T as b};
