import{j as e,r as l,c as p}from"./index-5w7rvlBR.js";import{T as w,D as q,B as T}from"./trash_icon-CGJcnPRh.js";import{f as C,h as N,i as M,u as b,j as A,k as L,g as R}from"./db-Db5_hjbs.js";import{i as k,l as H}from"./auth-mW2MEUfn.js";import"./home_icon-BIvrAuEt.js";function Q({request:s,removeRequest:o}){return e.jsxs("div",{className:"prayer-request-tile",children:[e.jsx("h3",{htmlFor:"",children:s.request}),e.jsx("img",{src:w,alt:"",onClick:async()=>{o(s.request),await C(s.request)}})]})}function Y({requests:s,removeRequest:o}){return e.jsxs("div",{className:"manage-prayer-requests-section",children:[e.jsx("h2",{children:"Manage Prayer Requests"}),e.jsx("div",{className:"prayer-requests",children:s.map((t,r)=>e.jsx(Q,{request:t,removeRequest:o},r))})]})}function E({question:s,removeQuestion:o,updateQuestion:t}){const[r,c]=l.useState("");return e.jsxs("div",{className:"question-tile",children:[e.jsxs("h3",{htmlFor:"",children:["Q: ",s.question]}),s.answer!=""?e.jsxs("h4",{children:["A: ",s.answer]}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",value:r,onChange:g=>c(g.target.value)}),e.jsx("button",{onClick:async()=>{t(s.question,r),await N(s.question,r)},children:"Answer"})]}),e.jsx("div",{className:"question-actions",children:e.jsx("button",{onClick:async()=>{o(s.question),await M(s.question,s.answer)},children:"Delete"})})]})}function D({questions:s,removeQuestion:o,answerQuestion:t}){return e.jsxs("div",{className:"manage-questions-section",children:[e.jsx("h2",{children:"Manage Questions"}),e.jsx("div",{className:"questions",children:s.map((r,c)=>e.jsx(E,{question:r,removeQuestion:o,updateQuestion:t},c))})]})}function F({middleSchoolTiming:s,highSchoolTiming:o,youngAdultsTiming:t,setHighSchoolTiming:r,setMiddleSchoolTiming:c,setYoungAdultsTiming:g}){const[n,a]=l.useState(s),[i,d]=l.useState(o),[h,m]=l.useState(t),[y,x]=l.useState(!1),[v,j]=l.useState(!1),[f,S]=l.useState(!1);return l.useEffect(()=>{a(s),d(o),m(t)},[s,o,t]),e.jsxs("div",{className:"manage-when-section",children:[e.jsx("h2",{children:"Manage Youth Group Times"}),e.jsxs("div",{className:"yg-times",children:[e.jsxs("div",{className:"yg-time",children:[e.jsx("h3",{children:"High School"}),e.jsx("input",{type:"text",value:i.day,onChange:u=>d({...i,day:u.target.value})}),e.jsx("input",{type:"text",value:i.time,onChange:u=>d({...i,time:u.target.value})}),v?e.jsx("div",{className:"loader"}):e.jsx("button",{onClick:async()=>{j(!0),r(i),await b(i),j(!1)},children:"Save"})]}),e.jsxs("div",{className:"yg-time",children:[e.jsx("h3",{children:"Middle School"}),e.jsx("input",{type:"text",value:n.day,onChange:u=>a({...n,day:u.target.value})}),e.jsx("input",{type:"text",value:n.time,onChange:u=>a({...n,time:u.target.value})}),y?e.jsx("div",{className:"loader"}):e.jsx("button",{onClick:async()=>{x(!0),c(n),await A(n),x(!1)},children:"Save"})]}),e.jsxs("div",{className:"yg-time",children:[e.jsx("h3",{children:"Young Adults"}),e.jsx("input",{type:"text",value:h.day,onChange:u=>m({...h,day:u.target.value})}),e.jsx("input",{type:"text",value:h.time,onChange:u=>m({...h,time:u.target.value})}),f?e.jsx("div",{className:"loader"}):e.jsx("button",{onClick:async()=>{S(!0),g(h),await L(h),S(!1)},children:"Save"})]})]})]})}p(document.getElementById("root")).render(e.jsx(l.StrictMode,{children:e.jsx(P,{})}));function P(){const[s,o]=l.useState(!1),[t,r]=l.useState(null),[c,g]=l.useState(!1);return l.useEffect(()=>{k(g),R().then(a=>{r(a)});const n=()=>{window.innerWidth<800?o(!0):o(!1)};return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)},[]),e.jsxs(e.Fragment,{children:[!s&&e.jsx(q,{}),e.jsxs("div",{className:"content",children:[e.jsx(F,{youngAdultsTiming:(t==null?void 0:t.youngAdultTiming)??{time:"",day:""},highSchoolTiming:(t==null?void 0:t.highSchoolTiming)??{time:"",day:""},middleSchoolTiming:(t==null?void 0:t.middleSchoolTiming)??{time:"",day:""},setHighSchoolTiming:({time:n,day:a})=>{r(i=>i?{...i,highSchoolTiming:{time:n,day:a}}:null)},setMiddleSchoolTiming:({time:n,day:a})=>{r(i=>i?{...i,middleSchoolTiming:{time:n,day:a}}:null)},setYoungAdultsTiming:({time:n,day:a})=>{r(i=>i?{...i,youngAdultTiming:{time:n,day:a}}:null)}}),e.jsx(Y,{requests:(t==null?void 0:t.prayerRequests)||[],removeRequest:n=>{r(a=>a?{...a,prayerRequests:a.prayerRequests.filter(i=>i.request!==n)}:null)}}),e.jsx(D,{questions:(t==null?void 0:t.questions)||[],removeQuestion:n=>{r(a=>a?{...a,questions:a.questions.filter(i=>i.question!==n)}:null)},answerQuestion:(n,a)=>{r(i=>i?{...i,questions:i.questions.map(d=>d.question===n?{question:n,answer:a}:d)}:null)}})]}),s&&e.jsxs("div",{className:"home-section",children:[e.jsx("button",{onClick:()=>{window.location.href="/hc-youth/"},children:"Home"}),e.jsx("button",{onClick:()=>{H(),window.location.href="/hc-youth/"},children:"Logout"})]}),s&&e.jsx("div",{className:"mobile-footer"}),s&&e.jsx(T,{location:""})]})}
